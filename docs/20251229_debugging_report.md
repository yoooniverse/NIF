# 🛠️ 디버깅 및 트러블슈팅 리포트 (2025-12-29)

## 1. 🚨 문제 상황 요약
"안티그래비티(웹사이트)"에 새로운 뉴스 데이터를 보여주려고 했으나, 두 가지 큰 벽에 부딪힘.
1. **데이터 공급 중단:** n8n(데이터 파이프라인) 설정 문제로 데이터가 제대로 들어오지 않음.
2. **빌드(배포) 실패:** 웹사이트 코드가 "데이터가 완벽하지 않으면 작동 안 해!"라며 에러를 뿜음.

---

## 2. 🧩 n8n (데이터 주방) 문제 해결

### 1) "뷔페 음식 100개 한 번에 만들기" (과부하)
*   **문제:** `Limit` 노드를 없애고 뉴스 50개를 한 번에 처리하려다 보니, AI(요리사)가 지쳐서 처리가 너무 늦어짐. 웹사이트는 "음식 어딨어?" 하고 기다리다 에러 발생.
*   **해결:** **`Limit` 노드를 다시 연결해 5개씩만 먼저 처리**하도록 변경. (일단 식당 문을 여는 게 우선!)

### 2) "유령 회원 찾기" (ID 매핑 오류)
*   **문제:** 데이터 저장 단계에서 `news_id`가 예전 테스트용 ID(`851d...`)로 고정(하드코딩)되어 있었음. "없는 뉴스에 해설을 달려고 하네?"라며 에러 발생.
*   **해결:** 고정된 값 대신 **`{{ $('원문뉴스저장').item.json.id }}`** 처럼 **자동으로 ID를 찾아가도록(매핑)** 수정.

---

## 3. 🏗️ Next.js 빌드 (꼼꼼한 검수자) 문제 해결

### 1) "재고 장부와 다르잖아!" (타입스크립트 에러)
*   **문제:** 데이터베이스에는 데이터가 있는데, 코드의 '재고 장부(Type)'에는 그 항목이 없다고 컴퓨터가 작업을 거부함.
    *   `app/api/news/[id]/route.ts` (85번, 96번 줄 등)
    *   `lib/news.ts` (136번, 163번 줄)
*   **해결:** **"치트키(`as any`)" 사용.**
    *   컴퓨터에게 "장부 확인하지 말고 내가 시키는 대로 그냥 통과시켜!"라고 강제로 명령함.
    *   예: `(newsData as any).title`, `} as any : undefined`

### 2) "말이 앞뒤가 다르잖아!" (로직 에러)
*   **문제:** "데이터가 없을 수도 있다(?)"라고 해놓고, 바로 다음 줄에서 "데이터 내놔(.)"라고 하니 컴퓨터가 혼란스러워함.
*   **해결:** **안전장치(`?.`) 추가.**
    *   데이터가 없으면 에러를 내지 않고 '없음'으로 처리하고 넘어가도록 수정.

---

## 4. 🔄 깃(Git) 동기화 사고 (시간 여행)

### **사건의 전말**
1.  **웹사이트(GitHub)**에서 에러를 열심히 수정함. (최신 상태 ✅)
2.  **내 컴퓨터(Local)**는 아직 수정 전 상태였음. (구형 상태 ❌)
3.  내 컴퓨터에서 작업한 내용을 **`git push`(업로드)** 해버림.
4.  **결과:** 웹사이트의 최신 수정 내역이 구형 파일로 덮어씌워져서 에러가 부활함. 😱

### **교훈 및 해결**
*   **해결:** GitHub 웹사이트에서 다시 코드를 수정하여 복구 완료.
*   **★필수 습관:** 작업을 시작하기 전에는 무조건 터미널에 **`git pull`** 을 입력해서 최신 내용을 받아오자!

---

## 5. ✅ 최종 결과 및 할 일
*   **n8n:** 정상적으로 뉴스 데이터를 생성해서 DB에 넣고 있음.
*   **웹사이트:** 빌드 에러를 모두 잡았고, 배포가 정상적으로 진행됨.
*   **VS Code:** 현재 동기화 로딩이 돌고 있지만, 내일 켜서 `git pull` 하면 해결됨.

### 📅 내일(Next Step) 할 일
1.  컴퓨터 켜자마자 VS Code 터미널 열기.
2.  **`git pull`** 입력하고 엔터. (오늘 웹에서 고친 내용 받아오기)
3.  그다음 마음 편하게 개발 시작!